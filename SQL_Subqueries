Here is a SQL subquery used to find how many of the top 5 customers are located in each country:

SELECT country.country,
       COUNT (DISTINCT customer.customer_id) AS all_customer_count,
       top_5_customers.top_customer_count AS top_customer_count
FROM country
LEFT JOIN
(SELECT COUNT (DISTINCT customer.customer_id) AS top_customer_count,
        customer.first_name,
        customer.last_name,
        country.country,
        city.city,
        SUM(amount) AS Total_Amount_Paid
FROM country
INNER JOIN city ON country.contry_id = city.country_id
INNER JOIN address ON city.city_id = address.city_id
INNER JOIN customer ON customer.address_id = address.address_id
INNER JOIN payment ON payment.customer_id = customer.customer_id
WHERE country IN ('India', 'China', 'United States', 'Japan', 'Mexico', 'Brazil', 'Russian Federation', 'Philippines', 'Turkey', 'Indonesia')
GROUP BY 2, 3, 4, 5
ORDER BY 6 DESC
LIMIT 5) AS top_5_customers
ON country.country = top_5_customers.country
INNER JOIN city ON country.country_id = city.country_id
INNER JOIN address ON city.city_id = address.city_id
INNER JOIN customer ON customer.address_id = address.address_id
GROUP BY 1, 3
ORDER BY 2 DESC
